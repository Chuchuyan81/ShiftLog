# Исправление расчета заработка

## Проблема
Сумма ставок за выход (`fixed_payout`) и чаевые (`tips`) учитывались в заработке только для рабочих дней, но не для выходных дней. Это приводило к неправильному расчету общей статистики в отчетах.

## Исправления

### 1. Функция `generateReports()` в `main.js` (строки 4261-4267)

**Было:**
```javascript
reportsShifts.forEach(shift => {
    if (shift.is_workday) {
        totalRevenue += shift.revenue_generated || 0;
        totalPayout += shift.fixed_payout || 0;
        totalTips += shift.tips || 0;
        grossEarnings += shift.earnings || 0;
        // ... обработка продуктов
    }
});
```

**Стало:**
```javascript
reportsShifts.forEach(shift => {
    // Ставки за выход и чаевые учитываются всегда (и в рабочие, и в выходные дни)
    totalPayout += shift.fixed_payout || 0;
    totalTips += shift.tips || 0;
    grossEarnings += shift.earnings || 0;
    
    if (shift.is_workday) {
        // Выручка учитывается только в рабочие дни
        totalRevenue += shift.revenue_generated || 0;
        // ... обработка продуктов
    }
});
```

### 2. Функция переключения между рабочим/выходным днем в `main.js` (строки 2950-2955)

**Было:**
```javascript
} else {
    workFields.style.display = 'none';
    // Обнуляем поля при выборе выходного
    document.getElementById('shift-venue').value = '';
    document.getElementById('shift-payout').value = 0;
    document.getElementById('shift-tips').value = 0;
    // ...
}
```

**Стало:**
```javascript
} else {
    workFields.style.display = 'none';
    // Обнуляем только поля, связанные с работой (заведение и продукты)
    document.getElementById('shift-venue').value = '';
    // НЕ обнуляем shift-payout и shift-tips - они могут быть и в выходной день
    // ...
}
```

## Результат

После исправления:
- ✅ Ставки за выход учитываются для всех смен (рабочие и выходные дни)
- ✅ Чаевые учитываются для всех смен (рабочие и выходные дни)
- ✅ Заработок рассчитывается корректно для всех смен
- ✅ Выручка по-прежнему учитывается только для рабочих дней (что правильно)
- ✅ При переключении на выходной день поля ставки и чаевых не обнуляются

## Тестирование

Создан и успешно пройден тест, который проверяет:
- Разность между старым и новым расчетом
- Корректность итоговых значений
- Учет ставок за выход в выходные дни

Все тесты прошли успешно ✅

## Влияние на пользователей

Теперь пользователи смогут:
1. Указывать ставки за выход в выходные дни
2. Видеть корректную статистику заработка в отчетах
3. Получать правильные итоговые суммы, включающие все ставки за выход

Исправление обратно совместимо и не ломает существующую функциональность.